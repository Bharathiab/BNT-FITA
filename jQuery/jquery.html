<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>

      body{
        padding:20px;
      }

      .active {
        background-color: mediumslateblue;
        color: white;
      }

      #display {
        font-size: 30px;
      }
    </style>
  </head>

  <body>
    
    <div
      id="box"
      style="
        width: 100px;
        height: 100px;
        background: black;
        display: flex;
        justify-content: center;
        align-items: center;
      "
    >
      BHARATHI
    </div>
    <hr />
    <br /><br />

    <div id="myDiv" style="display: flex; justify-content: center"><h2>JQUERY</h2></div>
    <br />
    <div id="set"></div>
    <!-- add,remove,toggle -->
    <button onclick="$('#myDiv').addClass('active')">Add Class</button>
    <button onclick="$('#myDiv').removeClass('active')">Remove Class</button>
    <button onclick="$('#myDiv').toggleClass('active')">Toggle Class</button></div>
    <br /><br />
    <hr />

    <h2 id="heading">Original</h2>
    <input type="text" id="inputBox" placeholder="Enter Value" />
    <br /><br />
    <button id="setBtn">Set Value</button>
    <button id="getBtn">Get Value</button>
    <br /><br />
    <hr />

    <ul id="num"></ul>
    <button onclick="addabc()">Add Letter</button>
    <br /><br />
    <hr />

    <div
      id="box1"
      style="
        border-radius: 10px;
        background-color: rgb(255, 0, 0);
        width: 50px;
        height: 50px;
      "
    ></div>
    <br />
    <button id="move">Animate</button>
    <button id="fade">Fade Out</button>
    <br /><br />
    <hr />

    <div>
      <h2 id="countdown">10</h2>
      <button onclick="startCountdown()">Start Countdown</button>
    </div>
    <br /><br />
    <hr />

    <div>
      <h3>STOP WATCH</h3>
      <div id="display">00:00:00</div><br>
      <button onclick="startWatch()">Start</button>
      <button onclick="stopWatch()">Stop</button>
      <button onclick="resetWatch()">Reset</button>
    </div>

    <script>
      console.log("output 1");
      let arr = [1, 2, 3, 4, 5];
      console.log(arr.map((i) => i * 2)); //map
      console.log(arr.filter((i) => i < 4)); //filter
      console.log(arr.reduce((a, b) => a * b));

      console.log("output 2");
      const obj = {
        numbers: [1, 2, 3, 4, 5],
        sub: function () {
          return this.numbers.map(function (number) {
            return number - 1;
          });
        },
      };
      console.log(obj.sub());

      console.log(" output 3");
      $("#box").hover(
        function () {
          $(this).css("background", "yellow");
        }, // mouse in
        function () {
          $(this).css("background", "violet");
        } // mouse out
      );

      console.log(" output 4");
      function divideNumbers(a, b) {
        try {
          let result = a / b;

          if (b === 0) {
            throw new Error("Cannot divide by zero");
          }

          console.log("Result:", result);
          
        } catch (error) {
          console.log("Error occurred:", error.message);
        } finally {
          console.log("Execution completed.");
        }
      }

      divideNumbers(10, 2);
      divideNumbers(10, 5);
      divideNumbers(10, 0);

      console.log("Output 5");
      function add(a, b) {
        return a + b;
      }
      console.log(" normal Function: ");
      console.log(add(5, 3));

      const add1 = (a, b) => a + b;
      console.log("Arrow Function: ");
      console.log(add(5, 5));

      console.log("Output 6");
      $("#getBtn").click(function () {
        let inputValue = $("#inputBox").val();
        alert("Input Value is: " + inputValue);
      });

      $("#setBtn").click(function () {
        $("#inputBox").val("Enter Value");
        $("#heading").text("Updated ");
      });

      console.log("Output 7");
      let currentCharCode = 65; // ASCII for 'A'

      function addabc() {
        if (currentCharCode <= 90) {
          let letter = String.fromCharCode(currentCharCode);
          $("#num").append("<li>" + letter + "</li>");
          currentCharCode++;
        } else {
          alert("All letters A to Z added!");
        }
      }

      console.log("output 8");
      $("#move").click(function () {
        $("#box1").animate(
          { left: "200px", height: "150px", width: "150px" },
          1000
        );
      });

      $("#fade").click(function () {
        $("#box1").fadeOut(800);
      });

      console.log("output 9");
      function startCountdown() {
        let count = 10;
        const display = document.getElementById("countdown");

        const timer = setInterval(() => {
          display.textContent = count;
          count--;

          if (count < 0) {
            clearInterval(timer);
            display.textContent = "Time's up!";
          }
        }, 1000);
      }

      console.log("output 10");
      let hrs = 0,mins = 0,secs = 0;
      let interval = null;

      function updateDisplay() {
        const formatted =
          String(hrs).padStart(2, "0") +
          ":" +
          String(mins).padStart(2, "0") +
          ":" +
          String(secs).padStart(2, "0");
        document.getElementById("display").textContent = formatted;
      }

      function startWatch() {
        if (interval) return; // prevent multiple intervals

        interval = setInterval(() => {
          secs++;
          if (secs === 60) {
            secs = 0;
            mins++;
            if (mins === 60) {
              mins = 0;
              hrs++;
            }
          }
          updateDisplay();
        }, 1000);
      }

      function stopWatch() {
        clearInterval(interval);
        interval = null;
      }

      function resetWatch() {
        stopWatch();
        hrs = mins = secs = 0;
        updateDisplay();
      }

      updateDisplay();
    </script>
  </body>
</html>
